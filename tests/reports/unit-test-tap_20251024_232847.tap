1..20
ok 1 sanitize_wrapper_input: rejects empty input
ok 2 sanitize_wrapper_input: accepts small safe input (<1KB)
ok 3 sanitize_wrapper_input: blocks dangerous characters in small input (<1KB)
ok 4 sanitize_wrapper_input: accepts medium safe input (1KB-100KB)
ok 5 sanitize_wrapper_input: blocks command injection in medium input (1KB-100KB)
ok 6 sanitize_wrapper_input: accepts large input (>100KB)
not ok 7 handle_wrapper_timeout: returns success for quick process
# (from function `assert_success' in file /home/ryu/.nvm/versions/node/v22.18.0/lib/node_modules/bats-assert/src/assert_success.bash, line 45,
#  in test file tests/unit/test-common-wrapper-lib.bats, line 88)
#   `assert_success' failed
#
# -- command failed --
# status : 255
# output :
# --
#
ok 8 handle_wrapper_timeout: times out slow process
ok 9 handle_wrapper_timeout: sends SIGTERM then SIGKILL
ok 10 format_wrapper_output: formats text output
ok 11 format_wrapper_output: formats JSON output
ok 12 format_wrapper_output: outputs to stderr for text format
ok 13 wrapper_structured_error: outputs what/why/how pattern
ok 14 wrapper_structured_error: returns correct exit code
ok 15 wrapper_structured_error: uses WRAPPER_EXIT constants
ok 16 wrapper_print_stack_trace: outputs stack frames
ok 17 wrapper_print_stack_trace: limits to 20 frames
ok 18 error codes: WRAPPER_EXIT constants are defined
ok 19 integration: sanitize + format output pipeline
ok 20 integration: error handling with stack trace
